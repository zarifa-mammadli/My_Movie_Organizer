{"ast":null,"code":"var _jsxFileName = \"D:\\\\bootcamp-m4-starter\\\\src\\\\components\\\\Favorites\\\\Favorites.js\";\nimport React, { Component } from 'react';\nimport './Favorites.css';\nimport { actionDelete } from '../../redux/actions';\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mapState = store => ({\n  favoriteMovies: store.favoriteMovies\n});\nconst mapDispatch = dispatch => ({\n  removeFromCard: id => dispatch(actionDelete(id))\n});\nconst connector = connect(mapState, mapDispatch);\nclass Favorites extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      title: \"\",\n      textLink: '#',\n      inputActive: true,\n      linkActive: false,\n      buttonActive: false\n    };\n    this.handleChangeName = event => {\n      this.setState({\n        title: event.target.value\n      });\n      if (event.target.value) {\n        this.setState({\n          buttonActive: true\n        });\n      } else false;\n    };\n    this.handleSaveList = () => {\n      this.setState({\n        inputActive: false,\n        linkActive: true,\n        buttonActive: false\n      });\n      this.saveMovies();\n    };\n    this.saveMovies = () => {\n      fetch(\"https://acb-api.algoritmika.org/api/movies/list\", {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"title\": this.state.title,\n          \"movies\": this.props.favoriteMovies.map(e => e.imdbID)\n        })\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          textLink: data.id\n        });\n      });\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"favorites\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: this.state.title,\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430\",\n        className: \"favorites__name\",\n        disabled: this.state.inputActive ? null : \"disabled\",\n        onChange: this.handleChangeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"favorites__list\",\n        children: this.props.favoriteMovies.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [item.Title, \" (\", item.Year, \") \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                this.props.removeFromCard(item.imdbID);\n              },\n              children: \" X \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 81\n            }, this), \" \"]\n          }, item.imdbID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: this.handleSaveList,\n        disabled: !this.state.buttonActive,\n        className: \"favorites__save \" + (!this.state.buttonActive ? \"button_disabled\" : null),\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/list/${this.state.textLink}`,\n        className: \"link__none \" + (this.state.linkActive ? \"link__block\" : null),\n        rel: \"noreferrer\",\n        children: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst NewFavorites = connector(Favorites);\n_c = NewFavorites;\nexport default NewFavorites;\n\n// class Favorites extends Component {\n//   state = {\n//     title: \"\",\n//     textLink: '#',\n//     inputActive: true,\n//     linkActive: false\n//   };\n\n//   handleInput = (e) => {\n//     this.setState({title: e.target.value});\n//   };\n\n//   handleSaveList = () => {\n//     this.setState({\n//       inputActive: false,\n//       linkActive: true\n//     });\n//     this.saveMovies();\n//   };\n\n//   saveMovies = () => {\n//     fetch(\"https://acb-api.algoritmika.org/api/movies/list\",\n//       {\n//         method: 'POST',\n//         headers: {\n//           'Content-type': 'application/json',\n//         },\n//         body: JSON.stringify({\n//           \"title\": this.state.title,\n//           \"movies\": this.props.favoriteMovies.map(e => e.imdbID)\n//         })\n//       })\n//       .then(res => res.json())\n//       .then(data => {\n//         this.setState({textLink: data.id})\n//       })\n//   };\n\n//   render() {\n//     return (\n//       <div className=\"favorites\">\n//         <input value={this.state.title} onChange={this.handleInput}\n//               disabled={this.state.inputActive ? null : \"disabled\"}  className=\"favorites__name\" placeholder=\"Create list\" />\n//         <ul className=\"favorites__list\">\n//           {this.props.favoriteMovies.map((item) => {\n//             return (\n//               <li className=\"favorites__list--item\" key={item.imdbID}>\n//                 {item.Title} {item.Year}\n//                 <button className=\"favorites__list--delete\" onClick={() => this.props.removeFromCard(item.imdbID)}>X</button>\n//               </li>\n\n//             );\n//           })}\n//         </ul>\n//         <button type=\"button\" onClick={() => this.handleSaveList()}\n//                 disabled={!this.state.title || this.props.favoriteMovies.length === 0}\n//                 className={`favorites__save ${this.state.linkActive ? \"link__none\" : null}`}>\n//           Save List\n//         </button>\n//         <br></br>\n//         <a href={`http://localhost:3000/list/${this.state.textLink}`}\n//            className={`link__none ${this.state.linkActive ? \"link__block\" : null}`}\n//            target=\"_blank\" rel=\"noreferrer\" >Share with friends</a>\n//       </div>\n//     );\n//   }\n// }\n\n// const mapStateToProps = (state) => {\n//   return {\n//     favoriteMovies: state.favoriteMovies,\n//   };\n// };\n\n// const mapDispatchToProps = (dispatch) => ({\n//   removeFromCard: (id) => dispatch( actionDelete(id) )\n// })\n\n// export default connect(mapStateToProps, mapDispatchToProps)(Favorites);\nvar _c;\n$RefreshReg$(_c, \"NewFavorites\");","map":{"version":3,"names":["React","Component","actionDelete","Link","connect","mapState","store","favoriteMovies","mapDispatch","dispatch","removeFromCard","id","connector","Favorites","state","title","textLink","inputActive","linkActive","buttonActive","handleChangeName","event","setState","target","value","handleSaveList","saveMovies","fetch","method","headers","body","JSON","stringify","props","map","e","imdbID","then","res","json","data","render","item","Title","Year","NewFavorites"],"sources":["D:/bootcamp-m4-starter/src/components/Favorites/Favorites.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport './Favorites.css';\r\nimport { actionDelete } from '../../redux/actions';\r\nimport {Link} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapState = (store) => ( {favoriteMovies: store.favoriteMovies} );\r\nconst mapDispatch = (dispatch) => ({\r\n  removeFromCard: (id) => dispatch( actionDelete(id) )\r\n})\r\n\r\n\r\nconst connector = connect(mapState, mapDispatch);\r\n\r\nclass Favorites extends Component {\r\n    state = {\r\n        title: \"\",\r\n        textLink: '#',\r\n        inputActive: true,\r\n        linkActive: false,\r\n        buttonActive:false     \r\n    }\r\n    handleChangeName = (event) => {\r\n        this.setState({ title: event.target.value });\r\n        if(event.target.value){\r\n          this.setState({buttonActive: true})\r\n        }\r\n        else false;\r\n      };\r\n\r\n      handleSaveList = () => {\r\n        this.setState({\r\n          inputActive: false,\r\n          linkActive: true,\r\n          buttonActive:false\r\n        });\r\n        this.saveMovies();\r\n      };\r\n    \r\n    \r\n      saveMovies = () => {\r\n        fetch(\"https://acb-api.algoritmika.org/api/movies/list\",\r\n          {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n              \"title\": this.state.title,\r\n              \"movies\": this.props.favoriteMovies.map(e => e.imdbID)\r\n            })\r\n          })\r\n          .then(res => res.json())\r\n          .then(data => {\r\n            this.setState({textLink: data.id})\r\n          })\r\n      };\r\n    \r\n    render() { \r\n        return (\r\n            <div className=\"favorites\">\r\n                <input value={this.state.title} placeholder='Введите название списка' className=\"favorites__name\" \r\n                disabled={this.state.inputActive ? null : \"disabled\"} onChange={this.handleChangeName} />\r\n                <ul className=\"favorites__list\">\r\n                    {this.props.favoriteMovies.map((item) => {\r\n                        return <li key={item.imdbID}>{item.Title} ({item.Year}) <button onClick={()=>{this.props.removeFromCard(item.imdbID)}}> X </button> </li>;\r\n                    })}  \r\n                </ul>\r\n\r\n                <button type=\"button\" onClick={this.handleSaveList} \r\n                disabled={!this.state.buttonActive }\r\n                className={\"favorites__save \" +(!this.state.buttonActive ? \"button_disabled\" : null)} >Сохранить список\r\n                </button>\r\n                 <Link to={`/list/${this.state.textLink}`}\r\n                  className={\"link__none \" +(this.state.linkActive ? \"link__block\" : null)}\r\n                   rel=\"noreferrer\" >Перейти к списку</Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nconst NewFavorites =connector(Favorites)\r\nexport default NewFavorites;\r\n\r\n\r\n\r\n\r\n// class Favorites extends Component {\r\n//   state = {\r\n//     title: \"\",\r\n//     textLink: '#',\r\n//     inputActive: true,\r\n//     linkActive: false\r\n//   };\r\n\r\n\r\n\r\n//   handleInput = (e) => {\r\n//     this.setState({title: e.target.value});\r\n//   };\r\n\r\n//   handleSaveList = () => {\r\n//     this.setState({\r\n//       inputActive: false,\r\n//       linkActive: true\r\n//     });\r\n//     this.saveMovies();\r\n//   };\r\n\r\n\r\n//   saveMovies = () => {\r\n//     fetch(\"https://acb-api.algoritmika.org/api/movies/list\",\r\n//       {\r\n//         method: 'POST',\r\n//         headers: {\r\n//           'Content-type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify({\r\n//           \"title\": this.state.title,\r\n//           \"movies\": this.props.favoriteMovies.map(e => e.imdbID)\r\n//         })\r\n//       })\r\n//       .then(res => res.json())\r\n//       .then(data => {\r\n//         this.setState({textLink: data.id})\r\n//       })\r\n//   };\r\n\r\n\r\n\r\n\r\n//   render() {\r\n//     return (\r\n//       <div className=\"favorites\">\r\n//         <input value={this.state.title} onChange={this.handleInput}\r\n//               disabled={this.state.inputActive ? null : \"disabled\"}  className=\"favorites__name\" placeholder=\"Create list\" />\r\n//         <ul className=\"favorites__list\">\r\n//           {this.props.favoriteMovies.map((item) => {\r\n//             return (\r\n//               <li className=\"favorites__list--item\" key={item.imdbID}>\r\n//                 {item.Title} {item.Year}\r\n//                 <button className=\"favorites__list--delete\" onClick={() => this.props.removeFromCard(item.imdbID)}>X</button>\r\n//               </li>\r\n              \r\n//             );\r\n//           })}\r\n//         </ul>\r\n//         <button type=\"button\" onClick={() => this.handleSaveList()}\r\n//                 disabled={!this.state.title || this.props.favoriteMovies.length === 0}\r\n//                 className={`favorites__save ${this.state.linkActive ? \"link__none\" : null}`}>\r\n//           Save List\r\n//         </button>\r\n//         <br></br>\r\n//         <a href={`http://localhost:3000/list/${this.state.textLink}`}\r\n//            className={`link__none ${this.state.linkActive ? \"link__block\" : null}`}\r\n//            target=\"_blank\" rel=\"noreferrer\" >Share with friends</a>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     favoriteMovies: state.favoriteMovies,\r\n//   };\r\n// };\r\n\r\n\r\n// const mapDispatchToProps = (dispatch) => ({\r\n//   removeFromCard: (id) => dispatch( actionDelete(id) )\r\n// })\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Favorites);\r\n\r\n"],"mappings":"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ACL,KAAK,CAACE,QAAS,EAAE;QACxC,SAAS,EAAE,aAAa,IAAG,IAAI,CAACF,KAAK,CAACI,UAAU,GAAG,aAAa,GAAG,IAAI,CAAE;QACxE,GAAG,EAAC,YAAY;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAyB;IAAA;MAAA;MAAA;MAAA;IAAA,QAC1C;EAEd;AACJ;AAEA,MAAM2B,YAAY,GAAEjC,SAAS,CAACC,SAAS,CAAC;AAAA,KAAlCgC,YAAY;AAClB,eAAeA,YAAY;;AAK3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}