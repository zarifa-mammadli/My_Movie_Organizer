{"ast":null,"code":"var _jsxFileName = \"D:\\\\bootcamp-m4-starter\\\\src\\\\components\\\\Favorites\\\\Favorites.js\";\nimport React, { Component } from 'react';\nimport './Favorites.css';\n// import { useDispatch } from 'react-redux';\n// import MovieItem from '../MovieItem/MovieItem';\nimport { actionDelete } from '../../redux/actions';\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mapState = store => ({\n  movies: store.favoriteMovies\n});\nconst mapDispatch = dispatch => ({\n  removeFromCard: id => dispatch(actionDelete(id))\n});\n// const dispatch = useDispatch();\n\n//     const removeFromCard = (id) => {\n//         dispatch(actionDelete(id))\n//     }\n\nconst connector = connect(mapState, mapDispatch);\nclass Favorites extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      title: 'Новый список'\n    };\n    this.handleClick = e => {\n      if (basket.data.length > 0) {\n        let el = document.createElement('a');\n        el.innerText = 'Go to basket';\n        el.classList.add('btn');\n        el.classList.add('btn-info');\n        el.classList.add('p-2');\n        el.classList.add('text-white');\n        el.setAttribute('href', '/basket');\n        el.setAttribute('title', title);\n        document.querySelector('.favorites').insertBefore(el, e.target);\n        e.target.remove();\n        if (window.localStorage.hasOwnProperty(\"data\")) {\n          let arr = JSON.parse(window.localStorage.getItem('data'));\n          arr.push({\n            title: title,\n            movies: basket.data\n          });\n          window.localStorage.setItem('data', JSON.stringify(arr));\n        } else {\n          window.localStorage.setItem('data', JSON.stringify([{\n            title: title,\n            movies: basket.data\n          }]));\n        }\n        document.querySelectorAll('.btn-danger').forEach(x => x.classList.add('disabled'));\n        document.querySelectorAll('.movie-item__add-button').forEach(x => x.disabled = true);\n      } else {\n        console.log('Please select minimum 1 film!');\n      }\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"favorites\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\",\n        className: \"favorites__name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"favorites__list\",\n        children: this.props.movies.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [item.title, \" (\", item.year, \") \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => actionDelete(item.id),\n              children: \" X \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 77\n            }, this), \" \"]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"favorites__save\",\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst NewFavorites = connector(Favorites);\n_c = NewFavorites;\nexport default NewFavorites;\nvar _c;\n$RefreshReg$(_c, \"NewFavorites\");","map":{"version":3,"names":["React","Component","actionDelete","connect","mapState","store","movies","favoriteMovies","mapDispatch","dispatch","removeFromCard","id","connector","Favorites","state","title","handleClick","e","basket","data","length","el","document","createElement","innerText","classList","add","setAttribute","querySelector","insertBefore","target","remove","window","localStorage","hasOwnProperty","arr","JSON","parse","getItem","push","setItem","stringify","querySelectorAll","forEach","x","disabled","console","log","render","props","map","item","year","NewFavorites"],"sources":["D:/bootcamp-m4-starter/src/components/Favorites/Favorites.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport './Favorites.css';\r\n// import { useDispatch } from 'react-redux';\r\n// import MovieItem from '../MovieItem/MovieItem';\r\nimport { actionDelete } from '../../redux/actions';\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapState = (store) => ( {movies: store.favoriteMovies} );\r\nconst mapDispatch = (dispatch) => ({\r\n  removeFromCard: (id) => dispatch( actionDelete(id) )\r\n})\r\n// const dispatch = useDispatch();\r\n    \r\n//     const removeFromCard = (id) => {\r\n//         dispatch(actionDelete(id))\r\n//     }\r\n\r\nconst connector = connect(mapState, mapDispatch);\r\n\r\nclass Favorites extends Component {\r\n    state = {\r\n        title: 'Новый список'        \r\n    }\r\n\r\n    handleClick = (e) => {\r\n        if(basket.data.length>0)\r\n        {\r\n            let el = document.createElement('a');\r\n            el.innerText='Go to basket';\r\n            el.classList.add('btn'); el.classList.add('btn-info'); el.classList.add('p-2'); el.classList.add('text-white');\r\n            el.setAttribute('href','/basket');\r\n            el.setAttribute('title',title);\r\n            document.querySelector('.favorites').insertBefore(el,e.target);\r\n            e.target.remove();\r\n            if(window.localStorage.hasOwnProperty(\"data\"))\r\n            {\r\n                let arr = JSON.parse(window.localStorage.getItem('data'));\r\n                arr.push({title:title, movies:basket.data})\r\n                window.localStorage.setItem('data', JSON.stringify(arr))\r\n            }\r\n            else\r\n            {\r\n                window.localStorage.setItem('data', JSON.stringify([{title:title, movies:basket.data}]))\r\n            }\r\n            document.querySelectorAll('.btn-danger').forEach(x=>x.classList.add('disabled'));\r\n            document.querySelectorAll('.movie-item__add-button').forEach(x=>x.disabled=true);\r\n\r\n        }\r\n        else {\r\n            console.log('Please select minimum 1 film!')\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"favorites\">\r\n                <input value=\"Новый список\" className=\"favorites__name\" />\r\n                <ul className=\"favorites__list\">\r\n                    {this.props.movies.map((item) => {\r\n                        return <li key={item.id}>{item.title} ({item.year}) <button onClick={()=>actionDelete(item.id)}> X </button> </li>;\r\n                    })}  \r\n                </ul>\r\n                <button type=\"button\" className=\"favorites__save\" >Сохранить список</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nconst NewFavorites =connector(Favorites)\r\nexport default NewFavorites;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}